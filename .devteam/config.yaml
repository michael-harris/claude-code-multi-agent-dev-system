# DevTeam Project Configuration
# Copy this to your project's .devteam/config.yaml and customize

version: "1.0"

# Project metadata
project:
  name: ""  # Auto-detected from package.json/pyproject.toml if empty
  type: auto  # auto, web, api, cli, library, fullstack

# Model selection configuration
model_selection:
  strategy: dynamic  # dynamic, fixed, cost-optimized

  # Complexity thresholds (0-14 scale)
  thresholds:
    simple: 4      # 0-4: Use Haiku
    moderate: 8    # 5-8: Use Sonnet
    complex: 14    # 9+: Use Opus

  # Override for specific task types
  task_overrides:
    security: opus      # Always use Opus for security tasks
    architecture: opus  # Always use Opus for architecture
    documentation: haiku
    testing: sonnet

  # Progression on failure (iterations before upgrade)
  progression:
    haiku_to_sonnet: 2
    sonnet_to_opus: 2

# Autonomous mode settings
autonomous:
  enabled: true
  max_iterations: 50

  circuit_breaker:
    max_consecutive_failures: 5
    cooldown_minutes: 5

  checkpoints:
    frequency: every_sprint  # every_task, every_sprint, manual
    auto_commit: true

  exit_conditions:
    - "All tasks completed"
    - "All acceptance criteria met"
    - "User requests stop"
    - "Circuit breaker triggered"

# Parallel execution settings
parallel:
  enabled: true
  max_concurrent_tasks: 3

  # Task types that can run in parallel
  parallelizable:
    - testing
    - documentation
    - frontend
    - backend  # Only if no shared state

  # Task types that must run sequentially
  sequential:
    - database_migration
    - security
    - deployment

# Quality gates
quality:
  # Pre-commit checks
  pre_commit:
    lint: true
    typecheck: true
    test: false  # Can be slow

  # Sprint completion requirements
  sprint_completion:
    tests_must_pass: true
    minimum_coverage: 0  # Set to 0 to disable, or percentage
    no_type_errors: true
    build_must_succeed: true

  # Bug Council activation threshold
  bug_council:
    enabled: true
    activation_threshold: 3  # Iterations before convening
    require_consensus: false  # Require majority vote

# Language Server Protocol configuration
lsp:
  auto_detect: true
  enabled_languages: []  # Empty = auto-detect, or list specific: [typescript, python]

  # Workspace roots for multi-project repos
  workspaces: []  # Auto-detected if empty

# Memory and learning
memory:
  session_persistence: true
  max_session_files: 10

  learned_patterns:
    enabled: true
    min_confidence: 0.7
    max_patterns: 50

# GitHub integration
github:
  auto_create_issues: false
  auto_create_prs: false
  issue_labels:
    - devteam
    - automated
  pr_template: |
    ## Summary
    {summary}

    ## Changes
    {changes}

    ## Testing
    {testing}

    ---
    *Generated by DevTeam*

# Notifications (future feature)
notifications:
  on_sprint_complete: false
  on_error: false
  on_pr_created: false

# Custom agent overrides
agents:
  # Disable specific agents
  disabled: []

  # Agent-specific configuration
  config: {}

# Skill configuration
skills:
  # Enable/disable skill categories
  enabled:
    - core
    - testing
    - quality
    - workflow

  # Disabled skills
  disabled: []

# Debug settings
debug:
  verbose_logging: false
  save_agent_outputs: false
  dry_run: false  # Plan but don't execute
